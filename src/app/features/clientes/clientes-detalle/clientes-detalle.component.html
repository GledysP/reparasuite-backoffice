<div class="rs-header" *ngIf="cliente as c">
  <div>
    <h2 style="margin:0;">{{ c.nombre }}</h2>
    <div class="rs-muted">{{ c.telefono || '—' }} · {{ c.email || '—' }}</div>
  </div>
  <a mat-stroked-button routerLink="/clientes">Volver</a>
</div>

<mat-card *ngIf="cliente as c">
  <mat-card-content>
    <mat-tab-group>
      <mat-tab label="Órdenes">
        <div style="padding-top:12px;">
          <table mat-table [dataSource]="ordenes" class="rs-table">
            <ng-container matColumnDef="codigo">
              <th mat-header-cell *matHeaderCellDef>Código</th>
              <td mat-cell *matCellDef="let row">{{ row.codigo }}</td>
            </ng-container>

            <ng-container matColumnDef="estado">
              <th mat-header-cell *matHeaderCellDef>Estado</th>
              <td mat-cell *matCellDef="let row">{{ row.estado }}</td>
            </ng-container>

            <ng-container matColumnDef="tipo">
              <th mat-header-cell *matHeaderCellDef>Tipo</th>
              <td mat-cell *matCellDef="let row">{{ row.tipo }}</td>
            </ng-container>

            <ng-container matColumnDef="actualizadoEn">
              <th mat-header-cell *matHeaderCellDef>Actualizado</th>
              <td mat-cell *matCellDef="let row">{{ row.actualizadoEn }}</td>
            </ng-container>

            <ng-container matColumnDef="accion">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let row">
                <a [routerLink]="['/ordenes-trabajo', row.id]">Ver</a>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>

          <mat-paginator
            [length]="total"
            [pageIndex]="page"
            [pageSize]="size"
            [pageSizeOptions]="[10, 20, 50]"
            (page)="paginar($event)">
          </mat-paginator>
        </div>
      </mat-tab>

      <mat-tab label="Datos">
        <div style="padding-top:12px;">
          <p><strong>Nombre:</strong> {{ c.nombre }}</p>
          <p><strong>Teléfono:</strong> {{ c.telefono || '—' }}</p>
          <p><strong>Email:</strong> {{ c.email || '—' }}</p>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
